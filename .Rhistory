sessionInfo()
devtools::install_github("rusher321/rmeta")
install.packages("D:/install_package/Rtools35.exe", repos = NULL)
pkgbuild::find_rtools(debug = TRUE)
devtools::install_github("rusher321/rmeta")
R --version
devtools::install_github("rusher321/rmeta")
devtools::install_github("rusher321/rmeta")
pasteP
pasteP()
library(rmeta)
pasteP()
pasteP
pasteP
library(rmeta)
pasteP()
pasteP
?merge
example("merge")
x
y
authors
books
colnames(books)[1] <- c("name")
merge(authors, books, by.x = "name", by.y = "name", all = TRUE)
authors
colnames(authors)[1] <- c("name")
merge(authors, books, by.x = "name", by.y = "name", all = TRUE)
authors
books
tmp <- books[7, ]
tmp
authorN
authors
colnames(authors) <- colnames(tmp)
merge(authors, books, by.x = "name", by.y = "name", all = TRUE)
authorN
authors
tmp
tmp$tmp <- 1
tmp
mergeP <- function(dat1, dat2, by){
coldat1 <- colnames(dat1)
coldat2 <- colnames(dat2)
interfeature <- intersect(coldat1, coldat2)
if(length(interfeature)==1){
out <- merge(dat1, dat2, by=by, all=T)
}else{
diffdat1 <- setdiff(coldat1, interfeature)
diffdat2 <- setdiff(coldat2, interfeature)
tmp1 <- dat1[, c(by, diffdat1)]
tmp2 <- dat2[, c(by, diffdat2)]
tmp3 <- merge(tmp1, tmp2, by = by, all=T)
tmpC <- rbind(dat1[, interfeature], dat2[, interfeature])
out <- cbind(tmpC, tmp3[, -which(colnames(tmp3)==by)])
}
return(out)
}
authors
authors$tmp2 <- 2
mergeP(authors, tmp)
mergeP(authors, tmp, "name")
